模块功能主要由两个命令构成：export和import。export命令用于规定模块的对外接口，import命令用于输入其他模块提供的功能。

##### export输出

1. 直接输出单个变量

   ```
   //1、
   export var year=1999;
   
   //2、
   var m = 1;
   export {m};
   ```

2. 用大括号输出一组变量 **推荐**

   ```
   export { firstName, lastName, year };
   ```

3. 输出单个函数或类（class)

   ```
   export function multiply(x,y){
   	return x * y;
   }
   ```

4. 用大括号输出一组函数或类

5. `export default`命令输出

   ```javascript
   // export-default.js
   export default function foo() {
     console.log('foo');
   }
   // 或者写成
   function foo() {
     console.log('foo');
   }
   export default foo;
   
   // 输入
   import crc32 from 'export-default'; 
   ```

   - import命令可以指定任意名字
   - 注意export和default export的区别：
     - `export default`时，对应的`import`语句不需要使用大括号
     - 不使用`export default`时，对应的`import`语句需要使用大括号

**注意：**

- 一般来说，输出变量名为本名，但可使用as关键字重命名：

  ```
  function v1() { ... }
  function v2() { ... }
  
  export {
    v1 as streamV1,
    v2 as streamV2,
    v2 as streamLatestVersion
  };
  ```

- export规定对外的接口，必须与模块内部的变量建立一一对应关系。

  错误写法：

  ```
  //均报错：
  export 1;
  
  var m=1;
  export m;
  
  function f() {}
  export f;
  ```

- `export`语句输出的接口，与其对应的值是动态绑定关系，即通过该接口，可以取到模块内部实时的值。

- `export`命令可以出现在模块的任何位置，只要处于模块顶层就可以。如果处于块级作用域内，就会报错。



**import**

1. 一对大括号输入变量

   ```
   import { firstName, lastName, year } from './profile.js';
   ```

   >- 大括号里面的变量名，必须与被导入模块（`profile.js`）对外接口的名称相同。
   >
   >- 或者使用as关键字将输入变量重命名
   >
   >  ```
   >  import { lastName as surname } from './profile.js';
   >  ```

   

2. 整体加载

   ```
   import * as circle from './circle';
   使用circle.xxx访问属性和方法
   ```

   

**注意**

- `import`命令输入的变量都是只读的，因为它的本质是输入接口。

- `import`命令具有提升效果，会提升到整个模块的头部，首先执行。

- 由于`import`是静态执行，所以不能使用表达式和变量
  错误写法：

  ```
  // 报错
  import { 'f' + 'oo' } from 'my_module';
  
  // 报错
  let module = 'my_module';
  import { foo } from module;
  
  // 报错
  if (x === 1) {
    import { foo } from 'module1';
  } else {
    import { foo } from 'module2';
  }
  ```

  

